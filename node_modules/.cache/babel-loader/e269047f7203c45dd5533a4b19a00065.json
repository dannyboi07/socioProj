{"ast":null,"code":"import React from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{setFailure}from\"../../reducers/failureReducer\";import{useHistory}from\"react-router-dom\";import\"./failurecomp.css\";import{SecBgDiv}from\"../../styledComponents/SecBgDiv\";import{Button}from\"../../styledComponents/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FailureComp(_ref){var notFound=_ref.notFound;var failureState=useSelector(function(state){return state.failure;});var dispatch=useDispatch();var history=useHistory();if(notFound){return/*#__PURE__*/_jsx(SecBgDiv,{className:\"fail-fs-ctn\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"fail-ctn\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/error-404.svg\",alt:\"404-icon\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Broken link\"}),/*#__PURE__*/_jsx(Button,{className:\"frnd-btn\",onClick:function onClick(){return history.replace(\"/home\",null);},children:\"Back to home\"})]})});}function handleRelClick(){if(typeof(failureState===null||failureState===void 0?void 0:failureState.param)!==\"object\"&&failureState.func&&failureState.param){dispatch(failureState.func(failureState.param));}else if(failureState.func&&failureState.param[0]&&failureState.param[1]){dispatch(failureState.func(Object.values(failureState.param)[0],Object.values(failureState.param)[1]));}dispatch(setFailure(\"CLEAR\",null));}function ReloadBtn(_ref2){var onClick=_ref2.onClick,children=_ref2.children;if(children)return/*#__PURE__*/_jsx(Button,{className:\"frnd-btn\",onClick:onClick,children:children});return/*#__PURE__*/_jsx(Button,{className:\"frnd-btn\",onClick:onClick,children:\"Retry\"});}if(failureState){if(failureState.type===\"CONTENT\"||failureState.type===\"NOTIF\"||failureState.type===\"MSGING\"){return/*#__PURE__*/_jsxs(\"div\",{className:\"fail-ctn\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Failed to load \",failureState.type===\"CONTENT\"?\"content\":failureState.type===\"NOTIF\"?\"notifications\":\"chat or messages\"]}),/*#__PURE__*/_jsx(ReloadBtn,{onClick:handleRelClick})]});}else if(failureState.type===\"USER_PROF\"){return/*#__PURE__*/_jsxs(\"div\",{className:\"fail-ctn\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Failed to find user or user doesn't exist\"}),/*#__PURE__*/_jsx(ReloadBtn,{onClick:handleRelClick})]});}else if(failureState.type===\"POST\"||failureState.type===\"ONLY_POST\"){return/*#__PURE__*/_jsxs(\"div\",{className:\"fail-ctn\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/error-404.svg\",alt:\"404-icon\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Failed to retrieve resource or it doesn't exist\"}),/*#__PURE__*/_jsx(ReloadBtn,{onClick:failureState.type===\"POST\"?function(){return dispatch(setFailure(\"CLEAR\",null));}:function(){return history.push(\"/home\");},children:failureState.type===\"POST\"?\"Ok\":\"Back to home\"})]});}else if(failureState.type===\"NEW_CHAT\"){return/*#__PURE__*/_jsxs(\"div\",{className:\"fail-ctn\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"fail-warning-img\",src:\"/error-light.svg\",alt:\"error\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Failed to get contacts\"})]});}// else if (failureState.type === \"ONLY_POST\") {\n//     return (\n//         <div className=\"fail-ctn\">\n//             <img src=\"/error-404.svg\" alt=\"404-icon\" />\n//             <p>\n//                 Failed to retrieve resource or it doesn't exist\n//             </p>\n//             <ReloadBtn onClick={() => {history.push(\"/home\")}}>\n//                 Back to home\n//             </ReloadBtn>\n//         </div>\n//     )\n// }\n// else if (failureState.type === \"NOTIF\") {\n//     return (\n//         <div className=\"fail-ctn\">\n//             <p>\n//                 Failed to load notifications\n//             </p>\n//             <ReloadBtn onClick={ handleRelClick } />\n//         </div>\n//     )\n// }\n}}export default FailureComp;","map":{"version":3,"sources":["/home/runner/work/socioProj/socioProj/src/components/FailureComp/FailureComp.js"],"names":["React","useSelector","useDispatch","setFailure","useHistory","SecBgDiv","Button","FailureComp","notFound","failureState","state","failure","dispatch","history","replace","handleRelClick","param","func","Object","values","ReloadBtn","onClick","children","type","push"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { setFailure } from \"../../reducers/failureReducer\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./failurecomp.css\";\nimport { SecBgDiv } from \"../../styledComponents/SecBgDiv\";\nimport { Button } from \"../../styledComponents/Button\";\n\nfunction FailureComp({ notFound }) {\n\tconst failureState = useSelector(state => state.failure);\n\tconst dispatch = useDispatch();\n\tconst history = useHistory();\n\n\tif (notFound) {\n\t\treturn (\n\t\t\t<SecBgDiv className=\"fail-fs-ctn\">\n\t\t\t\t<div className=\"fail-ctn\">\n\t\t\t\t\t<img src=\"/error-404.svg\" alt=\"404-icon\" />\n\t\t\t\t\t<p>\n                        Broken link\n\t\t\t\t\t</p>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"frnd-btn\"\n\t\t\t\t\t\tonClick={ () => history.replace(\"/home\", null)}>\n                        Back to home\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</SecBgDiv>\n\t\t);\n\t}\n\n\tfunction handleRelClick() {\n\t\tif (typeof(failureState?.param) !== \"object\" && failureState.func && failureState.param) {\n\t\t\tdispatch((failureState.func)(failureState.param));\n\t\t}\n\t\telse if (failureState.func && failureState.param[0] && failureState.param[1]) {\n\t\t\tdispatch((failureState.func)(Object.values(failureState.param)[0], Object.values(failureState.param)[1]));\n\t\t}\n\t\tdispatch(setFailure(\"CLEAR\", null));\n\t}\n\n\tfunction ReloadBtn({ onClick, children }) {\n\n\t\tif (children) return (\n\t\t\t<Button className=\"frnd-btn\" onClick={onClick}>\n\t\t\t\t{\n\t\t\t\t\tchildren\n\t\t\t\t}\n\t\t\t</Button>\n\t\t);\n\n\t\treturn (\n\t\t\t<Button className=\"frnd-btn\" onClick={onClick}>\n                Retry\n\t\t\t</Button>\n\t\t);\n\t}\n\n\tif (failureState) {\n\n\t\tif (failureState.type === \"CONTENT\" || failureState.type === \"NOTIF\" || failureState.type === \"MSGING\") {\n\t\t\treturn (\n\t\t\t\t<div className=\"fail-ctn\">\n\t\t\t\t\t<p>\n                        Failed to load {\n\t\t\t\t\t\t\tfailureState.type === \"CONTENT\" ?\n\t\t\t\t\t\t\t\t\"content\"\n\t\t\t\t\t\t\t\t:   failureState.type === \"NOTIF\" ?\n\t\t\t\t\t\t\t\t\t\"notifications\"\n\t\t\t\t\t\t\t\t\t:   \"chat or messages\"\n\t\t\t\t\t\t}\n\t\t\t\t\t</p>\n\t\t\t\t\t<ReloadBtn onClick={ handleRelClick } />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\telse if (failureState.type === \"USER_PROF\") {\n\t\t\treturn (\n\t\t\t\t<div className=\"fail-ctn\">\n\t\t\t\t\t<p>\n                        Failed to find user or user doesn&apos;t exist\n\t\t\t\t\t</p>\n\t\t\t\t\t<ReloadBtn onClick={ handleRelClick } />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\telse if (failureState.type === \"POST\" || failureState.type === \"ONLY_POST\") {\n\t\t\treturn (\n\t\t\t\t<div className=\"fail-ctn\">\n\t\t\t\t\t<img src=\"/error-404.svg\" alt=\"404-icon\" />\n\t\t\t\t\t<p>\n                        Failed to retrieve resource or it doesn&apos;t exist\n\t\t\t\t\t</p>\n\t\t\t\t\t<ReloadBtn\n\t\t\t\t\t\tonClick={ failureState.type === \"POST\" ?\n\t\t\t\t\t\t\t() => dispatch(setFailure(\"CLEAR\", null))\n\t\t\t\t\t\t\t:   () => history.push(\"/home\") }>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfailureState.type === \"POST\" ?\n\t\t\t\t\t\t\t\t\"Ok\"\n\t\t\t\t\t\t\t\t:   \"Back to home\"\n\t\t\t\t\t\t}\n\t\t\t\t\t</ReloadBtn>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\telse if (failureState.type === \"NEW_CHAT\") {\n\n\t\t\treturn (\n\t\t\t\t<div className=\"fail-ctn\">\n\t\t\t\t\t<img className=\"fail-warning-img\" src=\"/error-light.svg\" alt=\"error\" />\n\t\t\t\t\t<p>\n                        Failed to get contacts\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\t// else if (failureState.type === \"ONLY_POST\") {\n\t\t//     return (\n\t\t//         <div className=\"fail-ctn\">\n\t\t//             <img src=\"/error-404.svg\" alt=\"404-icon\" />\n\n\t\t//             <p>\n\t\t//                 Failed to retrieve resource or it doesn't exist\n\t\t//             </p>\n\n\t\t//             <ReloadBtn onClick={() => {history.push(\"/home\")}}>\n\t\t//                 Back to home\n\t\t//             </ReloadBtn>\n\t\t//         </div>\n\t\t//     )\n\t\t// }\n\t\t// else if (failureState.type === \"NOTIF\") {\n\t\t//     return (\n\t\t//         <div className=\"fail-ctn\">\n\t\t//             <p>\n\t\t//                 Failed to load notifications\n\t\t//             </p>\n\t\t//             <ReloadBtn onClick={ handleRelClick } />\n\t\t//         </div>\n\t\t//     )\n\t\t// }\n\t}\n}\n\nexport default FailureComp;"]},"metadata":{},"sourceType":"module"}