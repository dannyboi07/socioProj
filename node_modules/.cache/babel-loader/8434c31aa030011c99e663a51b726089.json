{"ast":null,"code":"import _asyncToGenerator from\"/home/runner/work/socioProj/socioProj/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/home/runner/work/socioProj/socioProj/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/runner/work/socioProj/socioProj/node_modules/@babel/runtime/regenerator/index.js\";import{getUser}from\"../services/userService\";import{setFailure}from\"./failureReducer\";export default function usersReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"GET_USER\":return state=_objectSpread({},action.data);case\"CLR_USER\":return state=null;default:return state;}}function getUserThunk(userName,token){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response,tempAssign;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getUser(userName,token);case 3:response=_context.sent;_context.next=10;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);tempAssign=token?{userName:userName,token:token}:userName;dispatch(setFailure(\"USER_PROF\",{func:getUserThunk,param:tempAssign}));case 10:// Finally, if all good\ndispatch({type:\"GET_USER\",data:response});case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function(_x){return _ref.apply(this,arguments);};}();}export{getUserThunk};","map":{"version":3,"sources":["/home/runner/work/socioProj/socioProj/src/reducers/usersReducer.js"],"names":["getUser","setFailure","usersReducer","state","action","type","data","getUserThunk","userName","token","dispatch","response","tempAssign","func","param"],"mappings":"mXAAA,OAASA,OAAT,KAAwB,yBAAxB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,cAAe,SAASC,CAAAA,YAAT,EAA4C,IAAtBC,CAAAA,KAAsB,2DAAd,IAAc,IAARC,CAAAA,MAAQ,2CAE1D,OAAQA,MAAM,CAACC,IAAf,EACA,IAAK,UAAL,CACC,MAAOF,CAAAA,KAAK,kBAAQC,MAAM,CAACE,IAAf,CAAZ,CACD,IAAK,UAAL,CACC,MAAOH,CAAAA,KAAK,CAAG,IAAf,CACD,QACC,MAAOA,CAAAA,KAAP,CAND,CAQA,CAED,QAASI,CAAAA,YAAT,CAAsBC,QAAtB,CAAgCC,KAAhC,CAAuC,CACtC,+FAAO,iBAAMC,QAAN,gLAKYV,CAAAA,OAAO,CAACQ,QAAD,CAAWC,KAAX,CALnB,QAKLE,QALK,8FAQCC,UARD,CAQcH,KAAK,CACrB,CAAED,QAAQ,CAARA,QAAF,CAAYC,KAAK,CAALA,KAAZ,CADqB,CAErBD,QAVE,CAWLE,QAAQ,CAACT,UAAU,CAAC,WAAD,CAAc,CAChCY,IAAI,CAAEN,YAD0B,CAEhCO,KAAK,CAAEF,UAFyB,CAAd,CAAX,CAAR,CAXK,QAiBN;AACAF,QAAQ,CAAC,CACRL,IAAI,CAAE,UADE,CAERC,IAAI,CAAEK,QAFE,CAAD,CAAR,CAlBM,oEAAP,+DAuBA,CAED,OAASJ,YAAT","sourcesContent":["import { getUser } from \"../services/userService\";\nimport { setFailure } from \"./failureReducer\";\n\nexport default function usersReducer(state = null, action) {\n\n\tswitch (action.type) {\n\tcase \"GET_USER\":\n\t\treturn state = { ...action.data };\n\tcase \"CLR_USER\":\n\t\treturn state = null;\n\tdefault:\n\t\treturn state;\n\t}\n}\n\nfunction getUserThunk(userName, token) {\n\treturn async dispatch => {\n\n\t\tlet response;\n\t\ttry {\n\n\t\t\tresponse = await getUser(userName, token);\n\t\t} catch (error) {\n\n\t\t\tconst tempAssign = token\n\t\t\t\t? { userName, token }\n\t\t\t\t: userName ;\n\t\t\tdispatch(setFailure(\"USER_PROF\", {\n\t\t\t\tfunc: getUserThunk,\n\t\t\t\tparam: tempAssign\n\t\t\t}));\n\t\t}\n\n\t\t// Finally, if all good\n\t\tdispatch({\n\t\t\ttype: \"GET_USER\",\n\t\t\tdata: response\n\t\t});\n\t};\n}\n\nexport { getUserThunk };"]},"metadata":{},"sourceType":"module"}